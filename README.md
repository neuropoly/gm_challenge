![](https://github.com/neuropoly/gm_challenge/blob/master/doc/logo_challenge.png)

# Gray Matter Challenge (2018)
Spinal cord gray matter imaging challenge for the 5th Spinal Cord Workshop (June 22<sup>nd</sup>, Paris).
The objective for this challenge is to propose a protocol that will generate the best image quality. For more details,
please see: https://goo.gl/2owcL7.

## Dependencies

[SCT v3.2.4](https://github.com/neuropoly/spinalcordtoolbox/releases/tag/v3.2.4) or above.

## Getting started

- Download (or `git clone`) this repository.
- run: `./run_pipeline`

* [process_data.py](./process_data.py): Process data using SCT and compute image quality metrics. More details [here](#analysis).
* [generate_wmgm_phantom.py](./generate_wmgm_phantom.py): Generate synthetic phantom of WM and GM to validate the present pipeline.
* [process_folder.py](./process_folder.py): Process data by batch within folders. This script will look for csv files, which are generated by generate_wmgm_phantom.py,
and which contain file names of the nifti phantom data. This script is particularly useful for processing the large amount of files generated by the phantom construction.
* [data/](./data): Example dataset to try process_data.py on.

### Dependencies

- [Spinal Cord Toolbox (SCT)](https://github.com/neuropoly/spinalcordtoolbox)

## Analysis

Two NIfTI files are required: an initial scan and a re-scan without repositioning.

### Pre-processing
- The second image is registered to the first in order to compute the SNR using the two-image subtraction method.
- The spinal cord and gray matter of each image are segmented automatically.
- White matter segmentation is generated by subtracting the gray matter segmentation from the cord segmentation.

### Signal-to-noise ratio (SNR):
The SNR is determined with two different methods: SNR_diff and SNR_single.
- SNR_diff is computed with SCT using the two-image subtraction method (Dietrich et al. J Magn Reson Imaging, 2007).
- SNR_single is computed from a single image (Griffanti et al., Biomed Sign Proc and Control, 2012).

### Contrast:
The mean signal is computed in the white matter and gray matter of image 1. The contrast is then computed according to the following equation:

~~~
Contrast = abs(mean(WM) - mean(GM)) / min{mean(WM),mean(GM)}
~~~

## Contributors
Stephanie Alley, Ferran Prados, Julien Cohen-Adad

## License
See: [LICENSE](./LICENSE)
